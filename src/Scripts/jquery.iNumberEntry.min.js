/*!
 * jQuery iNumberEntry Plugin v1.0.1 (https://github.com/irdsinc/jQuery.iNumberEntry)
 * Copyright IRDS, Inc. - http://irdsinc.com
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(n,t,i){"use strict";var u={numberParts:[]},f=function(n){var t=this;return t.length=n.length,t.maxValue=n.maxValue||Math.min(Number.MAX_SAFE_INTEGER,Math.pow(10,n.length)-1),t.minValue=n.minValue||0,t.prefix=n.prefix||"",t.postfix=n.postfix||"",t.snapToStep=n.snapToStep||!1,t.step=n.step||1,t.toString=function(){return t.prefix+t.value.padStart(t.length,"0")+t.postfix},t.totalLength=function(){return t.prefix.length+t.length+t.postfix.length},t.value=n.value||"",t},r=function(t,i){var r=this,u,e;if(r.$element=n(t),r.defaultValue=i.defaultValue||null,r.linked=i.linked||!1,r.numberParts=[],r.totalLength=function(){for(var i,t=0,n=0;n<r.numberParts.length;n++)i=r.numberParts[n],t+=i.totalLength();return t},i.numberParts)for(u=0;u<i.numberParts.length;u++)e=i.numberParts[u],r.numberParts.push(new f(e));r._init()};r.prototype={_highlightedPart:null,_isFocus:!1,_originalValue:null,_init:function(){var t=this,i;t.$element.attr("autocomplete","off");t.$element.attr("maxlength",t.totalLength());t.$element.on({"blur.iNumberEntry":n.proxy(t.eventBlur,t),"cut.iNumberEntry":n.proxy(t.eventCut,t),"focus.iNumberEntry":n.proxy(t.eventFocus,t),"keydown.iNumberEntry":n.proxy(t.eventKeydown,t),"keypress.iNumberEntry":n.proxy(t.eventKeypress,t),"keyup.iNumberEntry":n.proxy(t.eventKeyup,t),"mouseup.iNumberEntry":n.proxy(t.eventClick,t),"paste.iNumberEntry":n.proxy(t.eventPaste,t)});t.$element.val()?t.updateFromElementValue():t.defaultValue?t.setValues(t.defaultValue):(i=t.getDisplayValue(),i.length>0&&t.update())},changeToNearestStep:function(n,t){var r=this,i=n%t.step,u,f;return i===0?n:Math.round(i/t.step)?(u=typeof t.maxValue=="function"?t.maxValue(r.numberParts):t.maxValue,Math.min(n+(t.step-i),u)):(f=typeof t.minValue=="function"?t.minValue(r.numberParts):t.minValue,Math.max(n-i,f))},clear:function(){for(var i,n=this,t=0;t<n.numberParts.length;t++)i=n.numberParts[t],i.value="";n.$element.val("")},decreaseValue:function(n){var i=this,t=i.numberParts[n>=0?n:i._highlightedPart],f=typeof t.minValue=="function"?t.minValue(i.numberParts):t.minValue,r=parseInt(t.value,10),u,e;t.linked&&n>=0?r--:r-=t.step;r<f&&(i.linked&&(u=(n>=0?n:i._highlightedPart)-1,u>=0&&i.decreaseValue(u)),e=typeof t.maxValue=="function"?t.maxValue(i.numberParts):t.maxValue,r=r+e-f+1);t.value=r.toString()},eventBlur:function(){var n=this,t=n.$element.get(0);t.setSelectionRange(0,0);n._highlightedPart=null;n._originalValue=null;n.updateFromElementValue()},eventCut:function(){var n=this;setTimeout(function(){var t=n.$element.get(0);t.setSelectionRange(0,0);n._highlightedPart=null;n._originalValue=null;n.updateFromElementValue()},100)},eventClick:function(){var n=this;n._isFocus?n._isFocus=!1:(n.updateFromElementValue(),n.eventHighlightPart())},eventFocus:function(){var n=this;n._isFocus=!0;n._originalValue=n.$element.val();n.eventHighlightPart();setTimeout(function(){n._isFocus=!1},100)},eventHighlightPart:function(){var n=this,f=n.$element.get(0),r=0,e=n.getCursorPosition(),t,u,i;if(e>=n.totalLength())u=n.numberParts.length-1,t=n.numberParts[u],n.setSelectionRange(f,u,n.totalLength()-t.totalLength(),t.length);else for(i=0;i<n.numberParts.length;i++)if(t=n.numberParts[i],e>r+t.totalLength()-1)r+=t.totalLength();else{n.setSelectionRange(f,i,r+t.prefix.length,t.length);break}},eventKeydown:function(n){var t=this;if(!n.ctrlKey&&!n.altKey&&!n.metaKey){(n.which>64&&n.which<91||n.which>105&&n.which<110||n.which>110&&n.which<123)&&n.preventDefault();switch(n.which){case 8:case 46:setTimeout(function(){var n=t.$element.get(0);n.setSelectionRange(0,0);t._highlightedPart=null;t._originalValue=null;t.updateFromElementValue()},100);break;case 9:if(t.updateFromElementValue(),t.$element.val()!==""){if(t._originalValue&&t._originalValue!=="")if(n.shiftKey){if(t._highlightedPart===0)break;t.highlightPreviousPart()}else{if(t._highlightedPart===t.numberParts.length-1)break;t.highlightNextPart()}else t.eventHighlightPart(),t._originalValue=t.$element.val();n.preventDefault()}break;case 27:t.setValues(t._originalValue);t.highlightPart(t._highlightedPart);break;case 37:n.preventDefault();t.updateFromElementValue();t._originalValue&&t._originalValue!==""?t.highlightPreviousPart():(t.eventHighlightPart(),t._originalValue=t.$element.val());break;case 38:n.preventDefault();t._originalValue&&t._originalValue!==""?(t.increaseValue(),t.update(),t.highlightPart(t._highlightedPart)):(t.updateFromElementValue(),t.eventHighlightPart(),t._originalValue=t.$element.val());break;case 39:n.preventDefault();t.updateFromElementValue();t._originalValue&&t._originalValue!==""?t.highlightNextPart():(t.eventHighlightPart(),t._originalValue=t.$element.val());break;case 40:n.preventDefault();t._originalValue&&t._originalValue!==""?(t.decreaseValue(),t.update(),t.highlightPart(t._highlightedPart)):(t.updateFromElementValue(),t.eventHighlightPart(),t._originalValue=t.$element.val())}}},eventKeypress:function(n){(n.which>31&&n.which<48||n.which>57&&n.which<65||n.which>90&&n.which<97||n.which>122&&n.which<127)&&n.preventDefault()},eventKeyup:function(n){n.which<48||n.which>57&&n.which<96||n.which>105},eventPaste:function(){var n=this;setTimeout(function(){n.updateFromElementValue();n.eventHighlightPart()},100)},getCursorPosition:function(){var u=this,n=u.$element.get(0),t,r;return"selectionStart"in n?n.selectionStart:i.selection?(n.focus(),t=i.selection.createRange(),r=i.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-r):0},getDisplayValue:function(){for(var n,i=this,r="",t=0;t<i.numberParts.length;t++){if(n=i.numberParts[t],!n.value||n.value==="")return"";r+=n.toString()}return r},highlightNextPart:function(){for(var r,i,n=this,u=n.$element.get(0),f=0,t=0;t<n.numberParts.length;t++)if(r=n.numberParts[t],n._highlightedPart>t)f+=r.totalLength();else{t+1<n.numberParts.length?(i=n.numberParts[t+1],n.setSelectionRange(u,t+1,f+r.totalLength()+i.prefix.length,i.length)):(i=n.numberParts[0],n.setSelectionRange(u,0,i.prefix.length,i.length));break}},highlightPart:function(n){for(var r,t=this,f=t.$element.get(0),u=0,i=0;i<t.numberParts.length;i++)if(r=t.numberParts[i],n>i)u+=r.totalLength();else{t.setSelectionRange(f,n,u+r.prefix.length,r.length);break}},highlightPreviousPart:function(){for(var f,t,n=this,r=n.$element.get(0),u=0,i=0;i<n.numberParts.length;i++)if(f=n.numberParts[i],n._highlightedPart>i+1)u+=f.totalLength();else{n._highlightedPart===0?(t=n.numberParts[n.numberParts.length-1],n.setSelectionRange(r,n.numberParts.length-1,n.$element.val().length-t.totalLength()+t.prefix.length,t.length)):(t=n.numberParts[i],n.setSelectionRange(r,i,u+t.prefix.length,t.length));break}},increaseValue:function(n){var i=this,t=i.numberParts[n>=0?n:i._highlightedPart],f=typeof t.maxValue=="function"?t.maxValue(i.numberParts):t.maxValue,r=parseInt(t.value,10),u,e;t.linked&&n>=0?r++:r+=t.step;r>f&&(i.linked&&(u=(n>=0?n:i._highlightedPart)-1,u>=0&&i.increaseValue(u)),e=typeof t.minValue=="function"?t.minValue(i.numberParts):t.minValue,r=r-f+e-1);t.value=r.toString()},setValues:function(n){var r=this,u;if(!n){r.clear();return}for(n=n.replace(/[^0-9]/g,""),u=0;u<r.numberParts.length;u++){var t=r.numberParts[u],e=typeof t.maxValue=="function"?t.maxValue(r.numberParts):t.maxValue,f=typeof t.minValue=="function"?t.minValue(r.numberParts):t.minValue,i=parseInt(n.slice(0,t.length),10);isNaN(i)&&(i=f);i>e?i=e:i<f&&(i=f);t.snapToStep&&(i=r.changeToNearestStep(i,t));t.value=i.toString();n=n.slice(t.length)}r.update()},setSelectionRange:function(n,t,i,r){var u=this;u._highlightedPart=t;n.setSelectionRange&&setTimeout(function(){n.setSelectionRange(i,i+r)},0)},update:function(){for(var r,n=this,u=n.updateElement(),i=[],t=0;t<n.numberParts.length;t++)r=n.numberParts[t],i.push(r.value);n.$element.trigger({type:"change.iNumberEntry",value:{displayValue:u,parts:i}})},updateElement:function(){var n=this,t=n.getDisplayValue();return n.$element.val(t),t},updateFromElementValue:function(){var n=this;n.setValues(n.$element.val())}};n.fn.iNumberEntry=function(t){return this.each(function(){var i=n(this),f=i.data("iNumberEntry");f||i.data("iNumberEntry",new r(this,n.extend(!0,{},u,t,i.data())))})}})(jQuery,window,document),function(n){"use strict";n.fn.iDateNumberEntry=function(t,i){function h(n){return!(n%4||!(n%100)&&n%400)}function o(n,t){return new Date(t,n,0).getDate()}function c(n){var t=(new Date).getFullYear(),i=o(n,t),r=n===2&&!h(t)?1:0;return i+r}function s(n){var t;return t=n.length===3?o(parseInt(n[0].value,10),parseInt(n[2].value,10)):c(parseInt(n[0].value,10)),isNaN(t)?31:t}var r={linked:!0,numberParts:[]},f,u,e;if(t)for(f=t.toLowerCase().split("/"),u=0;u<f.length;u++)e=f[u],e.indexOf("m")>=0?r.numberParts.push({length:2,maxValue:12,minValue:1,postfix:u+1<f.length?"/":""}):e.indexOf("d")>=0?r.numberParts.push({length:2,maxValue:s,minValue:1,postfix:u+1<f.length?"/":""}):e.indexOf("y")>=0&&r.numberParts.push({length:e.length>2?4:2,minValue:1});else r.numberParts.push({length:2,maxValue:12,minValue:1,postfix:"/"}),r.numberParts.push({length:2,maxValue:s,minValue:1,postfix:"/"}),r.numberParts.push({length:4,minValue:1});n(this).iNumberEntry(n.extend(!0,{},r,i))};n.fn.iDateIsoNumberEntry=function(t){function r(n){return!(n%4||!(n%100)&&n%400)}function i(n,t){return new Date(t,n,0).getDate()}function u(n){var t=(new Date).getFullYear(),u=i(n,t),f=n===2&&!r(t)?1:0;return u+f}function f(n){var t;return t=n.length===3?i(parseInt(n[0].value,10),parseInt(n[2].value,10)):u(parseInt(n[0].value,10)),isNaN(t)?31:t}n(this).iNumberEntry(n.extend(!0,{},{linked:!0,numberParts:[{length:4,minValue:1,postfix:"-"},{length:2,maxValue:12,minValue:1,postfix:"-"},{length:2,maxValue:f,minValue:1}]},t))};n.fn.iPhoneNumberEntry=function(t){n(this).iNumberEntry(n.extend(!0,{},{numberParts:[{length:3,prefix:"(",postfix:") "},{length:3,postfix:"-"},{length:4}]},t))};n.fn.iSocialSecurityNumberEntry=function(t){n(this).iNumberEntry(n.extend(!0,{},{numberParts:[{length:3,minValue:1,postfix:"-"},{length:2,minValue:1,postfix:"-"},{length:4,minValue:1}]},t))};n.fn.iTimeNumberEntry=function(t,i){var r={linked:!0,numberParts:[]},f,u,e;if(t)for(f=t.toLowerCase().split(":"),u=0;u<f.length;u++)e=f[u],e.indexOf("h")>=0?r.numberParts.push({length:2,maxValue:23,postfix:u+1<f.length?":":""}):e.indexOf("m")>=0?r.numberParts.push({length:2,maxValue:59,postfix:u+1<f.length?":":"",step:15}):e.indexOf("s")>=0&&r.numberParts.push({length:2,maxValue:59,step:15});else r.numberParts.push({length:2,maxValue:23,postfix:":"}),r.numberParts.push({length:2,maxValue:59,postfix:":",step:15}),r.numberParts.push({length:2,maxValue:59,step:15});n(this).iNumberEntry(n.extend(!0,{},r,i))}}(jQuery);
//# sourceMappingURL=jquery.iNumberEntry.min.js.map
